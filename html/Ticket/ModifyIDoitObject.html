<& /Elements/Header, Title => loc('Modify referenced i-doit objects for #[_1]', $TicketObj->Id) &>
<& /Elements/Tabs &>

% $m->callback(CallbackName => 'BeforeActionList', Actions => \@results, ARGSRef => \%ARGS, Ticket => $TicketObj);
<& /Elements/ListActions, actions => \@results &>

<form method="post" action="ModifyIDoitObject.html">
<input type="hidden" class="hidden" name="id" value="<% $TicketObj->Id %>" />
<&| /Widgets/TitleBox,title => loc('Modify referenced i-doit objects for ticket # [_1]', $TicketObj->Id), class=> 'ticket-info-basic' &>
  <& Elements/EditCustomFields, TicketObj => $TicketObj &>
  <br />
  <& Elements/EditIDoitObject, TicketObj => $TicketObj &>
</&>
<& /Elements/Submit, Name => 'SubmitTicket', Label => loc('Save Changes') &>  
</form>

<%INIT>
my @results;
my $TicketObj = LoadTicket($id);
$m->callback( TicketObj => $Ticket, ARGSRef => \%ARGS );
push @results, ProcessObjectCustomFieldUpdates(Object => $TicketObj, ARGSRef => \%ARGS);
$TicketObj->ApplyTransactionBatch;
</%INIT>

<%ARGS>
$id => undef
</%ARGS>
